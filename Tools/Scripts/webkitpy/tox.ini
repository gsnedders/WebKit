[tox]
envlist = py36,py37,py38,py39,py310,py311,py312,py313
skipsdist=True

[testenv:py27]
# Some of our tests fail with unpredictable dict enumeration order
setenv = PYTHONHASHSEED = 0

[testenv:py36]
# Some of our tests fail with unpredictable dict enumeration order
setenv = PYTHONHASHSEED = 0

[testenv]
deps =
    setuptools==68.1.2 ; python_version >= "3.12"  # We need setuptools installed in a site path for distutils to exist on 3.12+
    pytest
    pytest-xdist
commands =
    pytest {posargs}
